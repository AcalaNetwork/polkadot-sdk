[settings]
timeout = 1000
bootnode = true

[relaychain.genesis.runtimeGenesis.patch.configuration.config]
  max_validators_per_core = 5
  needed_approvals = 10
  # TODO: this test won't pass for now, we don't yet have support for modifying a bitvec here
  #   node_features = "1"

[relaychain]
default_image = "{{ZOMBIENET_INTEGRATION_TEST_IMAGE}}"
chain = "rococo-local"
default_command = "polkadot"

[relaychain.default_resources]
limits = { memory = "4G", cpu = "2" }
requests = { memory = "2G", cpu = "1" }

  [[relaychain.node_groups]]
  name = "validator"
  count = 10
  args = ["-lparachain=debug,parachain::availability-recovery=trace,parachain::availability-distribution=trace"]

{% for id in range(2000,2002) %}
[[parachains]]
id = {{id}}
addToGenesis = true
cumulus_based = true
chain = "glutton-westend-local-{{id}}"
    [parachains.genesis.runtimeGenesis.patch.glutton]
    compute = "50000000"
    storage = "1310000000"
    trashDataCount = 5120

    [parachains.collator]
    name = "collator"
    image = "{{CUMULUS_IMAGE}}"
    command = "polkadot-parachain"
    args = ["-lparachain=debug"]

{% endfor %}
