[settings]
timeout = 1000

[relaychain.genesis.runtimeGenesis.patch.configuration.config.async_backing_params]
  max_candidate_depth = 6
  allowed_ancestry_len = 2

[relaychain.genesis.runtimeGenesis.patch.configuration.config.scheduler_params]
  max_validators_per_core = 1
  num_cores = 2

[relaychain]
default_image = "{{ZOMBIENET_INTEGRATION_TEST_IMAGE}}"
chain = "rococo-local"
default_command = "polkadot"

  [[relaychain.node_groups]]
  name = "elastic-validator"
  count = 3
  args = [ "-lparachain=debug,parachain::candidate-backing=trace,parachain::provisioner=trace,parachain::prospective-parachains=trace,runtime=debug"]

[[parachains]]
id = 2200
chain = "elastic-scaling"
add_to_genesis = true

  [[parachains.collators]]
  name = "collator-elastic"
  image = "{{COL_IMAGE}}"
  command = "test-parachain"
  args = ["-laura=trace,runtime=info,cumulus-consensus=trace,consensus::common=trace,parachain::collation-generation=trace,parachain::collator-protocol=trace,parachain=debug", "--force-authoring", "--experimental-use-slot-based"]

  [[parachains.collators]]
  name = "old-collator-elastic"
  # Use an old image here, this is roughly the commit where the stable2407 release branched off.
  image = "docker.io/paritypr/test-parachain:master-b862b181"
  command = "test-parachain"
  args = ["-laura=trace,runtime=info,cumulus-consensus=trace,consensus::common=trace,parachain::collation-generation=trace,parachain::collator-protocol=trace,parachain=debug", "--force-authoring", "--experimental-use-slot-based"]
